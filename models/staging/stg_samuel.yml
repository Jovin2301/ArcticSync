version: 2

models:
  - name: my_model
    columns:
      - name: EmployeeId
        description: Employee ID
        tests:
          - not_null
      - name: TerritoryId
        description: Territory ID
        tests:
          - not_null
      - name: RegionId
        description: Region ID
        tests:
          - not_null
      - name: TerritoryDescription
        description: Territory Description
        tests:
          - not_null
      - name: RegionDescription
        description: Region Description
        tests:
          - not_null
      - name: LastName
        description: Last Name
        tests:
          - not_null
      - name: FirstName
        description: First Name
        tests:
          - not_null
      - name: Title
        description: Title
        tests:
          - not_null
      - name: TitleOfCourtesy
        description: Title Of Courtesy
        tests:
          - not_null
      - name: BirthDate
        description: Birth Date
        tests:
          - not_null
      - name: HireDate
        description: Hire Date
        tests:
          - not_null
      - name: Address
        description: Address
        tests:
          - not_null
      - name: City
        description: City
        tests:
          - not_null
      - name: Region
        description: Region
        tests:
          - not_null
      - name: PostalCode
        description: Postal Code
        tests:
          - not_null
      - name: Country
        description: Country
        tests:
          - not_null
      - name: HomePhone
        description: Home Phone
        tests:
          - not_null
      - name: Extension
        description: Extension
        tests:
          - not_null
      - name: Photo
        description: Photo
        tests:
          - not_null
      - name: Notes
        description: Notes
        tests:
          - not_null
      - name: ReportsTo
        description: Reports To
        tests:
          - not_null
      - name: PhotoPath
        description: Photo Path
        tests:
          - not_null
      - name: CustomerId
        description: Customer ID
        tests:
          - not_null
      - name: OrderDate
        description: Order Date
        tests:
          - not_null
      - name: RequiredDate
        description: Required Date
        tests:
          - not_null
      - name: ShippedDate
        description: Shipped Date
        tests:
          - not_null
      - name: ShipVia
        description: Ship Via
        tests:
          - not_null
      - name: Freight
        description: Freight
        tests:
          - not_null
      - name: ShipName
        description: Ship Name
        tests:
          - not_null
      - name: ShipAddress
        description: Ship Address
        tests:
          - not_null
      - name: ShipCity
        description: Ship City
        tests:
          - not_null
      - name: ShipRegion
        description: Ship Region
        tests:
          - not_null
      - name: ShipPostalCode
        description: Ship Postal Code
        tests:
          - not_null
      - name: ShipCountry
        description: Ship Country
        tests:
          - not_null
      - name: ProductId
        description: Product ID
        tests:
          - not_null
      - name: UnitPrice
        description: Unit Price
        tests:
          - not_null
      - name: Quantity
        description: Quantity
        tests:
          - not_null
      - name: Discount
        description: Discount
        tests:
          - not_null
    description: My model based on SQL query
    materialized: view
    sql: |-
      select
        e.EmployeeId,
        t.TerritoryId,
        r.RegionId,
        TerritoryDescription,
        RegionDescription,
        e.LastName,
        e.FirstName,
        e.Title,
        e.TitleOfCourtesy,
        e.BirthDate,
        e.HireDate,
        e.Address,
        e.City,
        e.Region,
        e.PostalCode,
        e.Country,
        e.HomePhone,
        e.Extension,
        e.Photo,
        e.Notes,
        e.ReportsTo,
        e.PhotoPath,
        o.CustomerId,
        o.OrderDate,
        o.RequiredDate,
        o.ShippedDate,
        o.ShipVia,
        o.Freight,
        o.ShipName,
        o.ShipAddress,
        o.ShipCity,
        o.ShipRegion,
        o.ShipPostalCode,
        o.ShipCountry,
        od.ProductId,
        od.UnitPrice,
        od.Quantity,
        od.Discount
      from raw_employee as e
      left join raw_employee_territory as et on e.EmployeeId = et.EmployeeId
      left join raw_region as r on r.RegionId = t.RegionId
      left join raw_territory as t on t.TerritoryId = et.Id
      left join raw_order as o on o.EmployeeId = e.EmployeeId
      left join raw_order_details as od on od.OrderId = o.OrderId